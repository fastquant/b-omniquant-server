os: Visual Studio 2017

environment:
  CI_KEY:
    secure: m66qAr4lPRD9xWXSXkuM3wyQjgrNaSuKrW+dOnKY5msL5LNGtVFO8JOi4iJb1uYTqSAT4wJk7XBXgANnp1Ii8qlHMRtfktaYTPx6IJr4Or/rOmWY3DRsqwVoIBfHQDC1daCJ8j7vqbV9H16/oIVqd0rchKSd9mtesi3xP0kvyWHSYTJxB6tijwUnxwpbGEfh0kYGTMfgaf3WYiq5cxEFCje4x6AenakMSubP6He63wXAw6x3MCM3JGiBylhbgbqjDX0ObvNzp9+LrrH3MmX+++j7s3NFuL9fh3Y3G0TCiggjeBpcRi6iouxJJURI0BUVOhtdNZ9Q9bQVeky7FOyJEGrGfprldg4xroBcOBpSCw9bA6IeXzCK94c8Cswa/f59ma4Gwyl+TSXj3yu/UW9LgOEo2Ye9Ah+AtCB6Q+vu5lPjGQ3n/ljjxKJDXo33QcEWqvuFn+4Rw1+Olw9aF8WZ+ERt3UQT3Q4J7nw6oH7yiyqalk8Xv9hxRzuYpsNgqR2so5yJ9jtrk691tbKia4FldxWGLafxdSSjUCeoYtttPBy0F3Wai1xh/8/HD6Qi2BW/YzbbRFSxyIZWKv/BDhVFZmLFEBqnZPiU329ZEinW0zivfCXUhAMuZlEcbUopTX8wZ1TYoJGj3A5XN1gZpuu+mWfKjnrhcSU7GoWRFOqbYdgnn+azsPqeqfaRVSeKNsgcjAGDBuH4jQDfexnGWsr4ufU31NvZqY+6/ymuR6yJou5jQ4O/jTxcJhndfm10ENKZk3oSu1hgsNzV3j5uGo7DQc92WTZp1rvcwven3ZcAPfwuAywr9pKpGTQI+A68Z/UgYE/VvtCKxczEPwlf5wHu17cnrbCh5MMUmI++ZUtU7QMOS0EWkpsIOMqfsTw1olGWbJEyscAggazAIxQDvKxsVEt8UFIsqmU06JAL79HS4RqkmAfBO2OttqWV807Wtr6DduZ4xmceXw7+T6ImaJTP2H2B5GlAjPj4GJceNkF14csMVxwK/CROyE3nbKcvyemmw4XuHUBkxn0tAOQImVLWBclN8JWy0yeD9njZFy0A3jv46nXLxptZOGRiajM0IgZpWB6E5U2pisAD9RtejXZWyVXQIynQb0vUxuCkn06OuobXkRDelURIvky88lcFBRNgfWhnTswmaG/ZmEZVx9tstuEqLEVVr1n61ABuMXcmJX3VWQ9nMV1As2EUs2JLQcYO67GlGkRttJDRsZ7znZBxD4gAb7tbrJZ4EnuxEyLYuUTQLFvh27u4OOX2yhi1TF36PLkBcl0gzb3NV65vOL6rGrSL38L+DwbFMwxREV0rFUm+1602BmhXoabJdaZf6gnpxT7+S3MLbuEXZGKR5BahnaCjaVU+z/xONrAwuf0wnrPRFhqviWnph4UlVwEK1w+G2e37XATU0NtId1hXMft2DsH+yKRQ4TwAkZiGVEJRd5k6jKBZ8nVTfEG7MUhSxa//aA4yumG+SF6sJna0mrIcV7cfdlCQoSPqDlT2ZVmpxgtMPsnhUBW9oiY+E2twVlUWAd90+nlfIgMJxpTFoj0Uh0PkvmoM7GBuOMkVtMnj+fVGyU5kQvTOhF5HZr66syha8Ew0UTqcHWUayO7usi8dLQsF3LK5XOxSvE8yyV10iHTl7GObuCuSRiDHM7GkQBgrnBBuZXYOlSeAC0cLi4TtFWnO30p0c+uqexvIAROAfBMjKQYUvb36Uch862mvmq8L94NUD61bHQZmVbEUi+ehldGBzNSs+9Z3eMqYpwRMs69MdLE3BbchSoCgLmZxZGjQMpZvYZZEdppWnOo6ob73jmCpLFqK2C6ITfh0+3wkAluxDT55N3AM0rOeyTpYpIo8x7aTtruLCvN5iOBeNWyITQPOfcZCtUZefjPZowZjSyiPqPCMo/tk4q9f92Cwn2rXs34+Q0wKpz9g9p88cgNRtEZv+/A7wT0Zq5+9Nnb/jONSNcCcylBrk3ps8kDgOXF7FbQaDEJu7D8GstpRpMIxWxHA3WIn/DiVBkEvQLt5CFYJ5OCoA/AR0GtSoZpuRudA1168WHfiUzUQCxY4rcloGyf5D+8kovdxxW1CQWbEF3d/IdghpYOAlzTCbkZ3tFARCjai7YVxs2HOtVd/Fpx9Bs1tGnlyRtgkMVLBGyMrtDsOT9SZec+4yjXZUoxb91zXil5pwD2DH5KVd3Tr3Hyh2cTOt4NZaUxinBHRhKV0ig58brSVVnVZcffFwD3mHX+4
  CI_KEY1:
    secure: 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
  CI_KEY2:
    secure: 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
  GIT_SSH_COMMAND:
    ssh -i ~/.ssh/ci -o StrictHostKeyChecking=no
    
configuration:
  - Release
  
before_build:
  - git --version
  - ps: $env:CI_KEY
  - ps: $env:CI_KEY1
  - ps: $env:CI_KEY2
  - ps: $env:CI_KEY | Out-File -FilePath $env:USERPROFILE\.ssh\ci
  - ps: $env:CI_KEY1 | Out-File -FilePath $env:USERPROFILE\.ssh\ci1
  - ps: $env:CI_KEY2 | Out-File -FilePath $env:USERPROFILE\.ssh\ci2
  - ps: Add-Content $env:USERPROFILE\.ssh\ci3 $env:CI_KEY
  - ps: Get-Content $env:USERPROFILE\.ssh\ci
  - ps: Get-Content $env:USERPROFILE\.ssh\ci1
  - ps: Get-Content $env:USERPROFILE\.ssh\ci2
  - ps: Get-Content $env:USERPROFILE\.ssh\ci3
  - git clone git@bitbucket.org:OmniQuant/server.git
  
build_script:
  - cd server
  - msbuild.exe -Configuration "$env:configuration"
  
